<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <title></title>
  </head>
  <body>


	<form class="form-inline my-2 my-lg-0">
      <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search" id="rtertret">
      <button class="btn btn-outline-success my-2 my-sm-0" type="submit" id="sdfsdf">Search</button>
    </form>

    <div style="display: none;" id="count-block">Всього знайдено: <span id="count"></span></div>
    <div id="result"></div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

  	<script>
		$(document).ready(function(){
		    $("#sdfsdf").click(function(e){
		    	e.preventDefault();
		    	var q = $("#rtertret").val();

		    	var html = "";
		    	var count = 0;

		    	if (q == ""){
		    		return
		    	}

		        $.get( "https://cloud.of-it.org/api/cars?q=" + q, function( data ) {
		        	count = data.length
		        	for (var i = 0; i < data.length; i++) {
		        		//console.log(data[i]);
		        		var d = data[i];

		        		html += '<div class="card"><div class="card-body">';
		        		
		        		html += "<p>";
		        		html += "<b>Номер: </b>";
		        		html += d.Number;
		        		html += "</p>";

		        		html += "<p>";
		        		html += "<b>Модель: </b>";
		        		html += d.AutoModel;
		        		html += "</p>";

						html += "<p>";
		        		html += "<b>Рік випуску: </b>";
		        		html += d.Year;
		        		html += "</p>";

		        		html += "<p>";
		        		html += "<b>Дата: </b>";
		        		html += d.Date;
		        		html += "</p>";

		        		html += "<p>";
		        		html += "<b>Колір: </b>";
		        		html += d.Color;
		        		html += "</p>";

		        		html += "<p>";
		        		html += "<b>Об'єм двигуна: </b>";
		        		html += d.Capacity;
		        		html += "</p>";

		        		html += "<p>";
		        		html += "<b>Вага: </b>";
		        		html += d.Weight;
		        		html += "</p>";

		        		html += "<p>";
		        		html += "<b>Тип дії: </b>";
		        		html += d.ActionType;
		        		html += "</p>";


		        		html += "<p>";
		        		html += "<b>Тип авто: </b>";
		        		html += d.AutoType;
		        		html += "</p>";

		        		html += "<p>";
		        		html += "<b>Тип кузова: </b>";
		        		html += d.BodyType;
		        		html += "</p>";

		        		html += "</div></div>";

		        		if (i > 10) {
		        			break;
		        		}
		        	}

				  $( "#result" ).html( html );
				  console.log(count);
				  if(count > 0){
				  	$( "#count-block" ).show();
				  }else{
				  	$( "#count-block" ).hide();
				  }
				  $( "#count" ).html(count);
				});
		    });
		});
	</script>
  </body>
</html>